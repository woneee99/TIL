# 프로세스 동기화
여러 프로세스가 공유하는 **자원의 일관성**을 유지하는 것

🔎 프로세스 동기화가 필요한 이유
- 여러 프로세스가 공유자원을 사용하는 상황에서 경쟁조건(Race Condition)이 발생하면 공유자원의 신뢰성이 떨어진다. 이를 방지하기 위해 프로세스들이 공유자원을 사용할 때 특별한 규칙을 만드는 것 <br />

Race Condition이란?
- 여러 프로세스(or 스레드)가 **공유자원에 동시에 접근**할 때, 공유자원에 대한 접근 순서에 따라 실행 결과가 달라질 수 있는 상황. 동시에 접근할 때 **자료의 일관성을 해치는 결과**가 나올 수 있다.

<br />
  
## 임계 구역(critical section)
여러 프로세스(or 스레드)가 **자원을 공유하는 상황**에서 **하나의 프로세스(스레드)만 접근**할 수 있도록 제한해둔 영역
 
### Solution
세 가지 모든 조건을 만족해야 한다.
- Mutual Exclusion (상호 배제) : 오직 **한 프로세스(or 스레드)만** 진입 가능하다.
- Progress (진행) : 임계 영역에서 **작업 중인 프로세스가 없다면**, 임계 영역으로 진입하려는 프로세스 중 하나를 적절히 선택하여 임계 구역에 **진입할 수 있게** 해야 함
- Bounded Waiting (한정 대기) : 다른 프로세스의 기아를 방지하기 위해, 한 번 접근 했던 프로세스는 **다시 임계 영역에 들어갈 때 제한**을 둬야 한다.


<br />
  
## 뮤텍스 락 vs 세마포어
- 데이터의 일관성 문제를 해결하기 위한 방법

### 뮤텍스 락
공유자원에 **하나의 프로세스**(or 스레드)가 접근하는 것을 막아주는 방법
- 자원에 lock을 걸면서 동기화 문제를 해결하는 방법
- key를 기반으로 한 상호 배제 기법이고, Key에 해당하는 객체를 소유한 프로세스(or 스레드)만이 공유자원에 접근할 수 있다.
  
### 세마포어
공유자원에 **여러 프로세스**(or 스레드)가 접근하는 것을 막아주는 방법
- 리소스의 상태를 나타내는 간단한 카운터로 생각
  - 공유자원에 세마포어 변수만큼의 프로세스(or 스레드)가 접근할 수 있다.

### 차이점
- Mutex는 동기화 대상이 오직 1개일 때 사용하며, Semaphore는 동기화 대상이 1개 이상일 때 사용한다.
- Mutex는 자원을 소유할 수 있고 책임을 가지며, Semaphore는 자원을 소유할 수 없다.
- 세마포어는 뮤텍스가 되지만, 뮤텍스는 세마포어가 될 수 없다.
